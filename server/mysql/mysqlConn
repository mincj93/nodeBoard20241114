const mysql = require('mysql');
const connection = mysql.createConnection({
    host: "43.201.253.132",
    port: "3306",
    user: "node",
    password: "node",
    database: "node",

    // host: process.env.HOST,
    // user: process.env.USER,
    // password: process.env.PASSWORD,
    // database: process.env.DATABASE
});

const lg = console.log;

const mysqlConn = {};


mysqlConn.test = () => {
    lg('mysql 연결 시도')
    connection.connect();

    connection.query('SELECT * from board', (error, rows, fields) => {
        if (error) throw error;
        console.log('board info is: ', rows);
    });

    connection.end();

}
// Client does not support authentication protocol requested by server; consider upgrading MySQL client 에러 발생시 하단 참고
// https://1mini2.tistory.com/88
module.exports = mysqlConn;